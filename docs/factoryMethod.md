# Factory Methodパターン

本のソースに誤りがあり、趣旨がよくわからないので、エッセンスだけを抜き出し


別事例: 
- [PHPによるデザインパターン入門 \- Factory Method〜生成処理と使用処理を分離する \- Do You PHP はてブロ](http://shimooka.hateblo.jp/entry/20141215/1418620242)


## メリット


###  オブジェクトの生成過程の隠蔽と集中管理


オブジェクト生成の方法に注目したパターン



単純な生成クラスではなく
テンプレートメソッド的なオブジェクト準備の過程を
absractメソッドに定義して、
オブジェクト生成と準備を抽象化
多様なインスタンス生成を請け負う
オブジェクト生成は強い依存を生むので、
切り離すだけでも大きなメリットがある



復習:
templatemethodでは、処理の流れを実際の処理から抽象化した
それぞれdoActionという名前で、
validateしてエラーがあればエラーを投げて、
なければdoMainするという流れを踏んだ
 


## シナリオ

上記リンクから趣旨を抜き出す

- ある既存のCSV出力メソッドを,XMLにも対応させたいとする
- ifでCSVかXMLか分岐させればできそう
- しかしさらにファイル形式の対応を増やしていけば、if文が増えるばかり

やりたいことはファイル形式が何であれ

1. 読み込む
2. 表示する

これだけ。

具体的な読み込み方法や表示方法はそれぞれのファイル形式に対応

